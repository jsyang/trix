<html><script>

var a=[1,3];
function lucas(a){a.push(a.shift()+a[0]); return a[1]/a[0];}

// the Luca (fibonacci) sequence with seed [1,3];


function dot(a1,a2){
	if(a1.length!=a2.length) return;
	var dp=0;
	for(var i in a1)
	dp+=a1[i]*a2[i];
	return dp;
}

function norm(a){
	var n=0;
	for(var i in a) n+=a[i]*a[i];
	return Math.sqrt(n);
}

function cs(a1,a2){			// cosine similarity
	var l=[a1.length,a2.length];
	if(l[0]!=l[1]){
		if(l[0]>l[1])	for(var i=l[0]-l[1];i-->0;) a2.push(0);
		else		for(var i=l[1]-l[0];i-->0;) a1.push(0);
	}
	var d=dot(a1,a2);
	var n1=norm(a1);
	var n2=norm(a2);
	return d/(n1*n2);
}


function tm(a1,a2){			// tanimoto coefficient
	var l=[a1.length,a2.length];
	if(l[0]!=l[1]){
		if(l[0]>l[1])	for(var i=l[0]-l[1];i-->0;) a2.push(0);
		else		for(var i=l[1]-l[0];i-->0;) a1.push(0);
	}
	var d=dot(a1,a2);
	var n1=norm(a1); n1*=n1;
	var n2=norm(a2); n2*=n2;
	return d/(n1*n2 - d);
}

function StringToIntArray(s){
	var a=[];
	for(var i in s) 	a.push(s.charCodeAt(parseInt(i)));
	return a;
}

function cs2s(s1,s2){		// cosine similarity of strings of any length
	return cs(StringToIntArray(s1),StringToIntArray(s2));
}

</script></html>